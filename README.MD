# Easy Menu Builder

> RELEASE VERSION V1.0

> 快速构建基于 OLED 显示器的菜单导航系统

> By **Taseny**, Created on 2025-07-21

---

## 📌 项目简介

本项目是一个用于构建嵌入式菜单导航器的 C++ 项目，支持：

* 普通菜单项（Normal Item）
* 可变参数项（Changeable Item）
* 开关项（Toggle Item）
* 应用项（App Item，进入函数）

通过模拟 OLED 显示器 (`OLED_simulator`) 实现显示，并通过一个菜单构建器界面自动生成导航结构代码。该代码可直接粘贴到 `cpp_playground.cpp` 文件中进行调试和运行。


> TODO Lists:
> - `C`代码包装函数接口`menu_c_wrapper.cpp`
> - 一键同步生成的代码至`cpp_playground.cpp`
---

## 🗂️ 项目结构

```
Menu_builder/
├── include/               // 项目头文件
│   ├── menu.h             // 核心菜单类定义
│   ├── menu_item_editor.h // 菜单项编辑器定义
│   ├── menu_builder_window.h // 菜单构建器界面
│   ├── code_generator.h   // 代码生成器定义
│   ├── OLED_simulator.h   // OLED 模拟显示器
│   ├── main_window.h      // Qt 界面入口
│   └── menu_c_wrapper.h   // C 语言封装（可选）
├── src/                   // 实现文件
│   ├── menu.cpp
│   ├── code_generator.cpp
│   ├── menu_item_editor.cpp
│   ├── OLED_simulator.cpp
│   └── ...
├── main.cpp               // 程序入口
├── CMakeLists.txt         // 构建配置
├── README.MD              // 当前文件
```

---

## 🚀 功能亮点

* 🌲 **多层级菜单结构支持**：通过 `menuItem` 指针数组构建父子关系。
* 🔁 **增量调节项支持**：通过模板类 `ChangeableItem<T>` 支持 `int`, `float` 等类型值的增减。
* ✅ **布尔开关项支持**：可切换状态，触发回调函数。
* 🎯 **App 模式支持**：点击菜单项进入自定义函数逻辑。
* 📺 **OLED 模拟显示器**：字符模拟 `16x6` 显示效果。

---

## 🛠️ 使用方法

1. **构建菜单项**

   使用菜单编辑器（`menu_builder_window.cpp`）图形界面添加菜单项，并导出代码。

2. **粘贴代码**

   将生成的代码粘贴到 `cpp_playground.cpp` 中合适位置。

3. **构建工程**

   ```bash
   mkdir build && cd build
   cmake ..
   make
   ```

4. **运行模拟器**

   ```bash
   ./Menu_builder
   ```

   运行后可通过模拟器查看菜单显示效果，并可通过输入模拟 `UP/DOWN/LEFT/RIGHT` 键值来导航。

---

## ✏️ 示例代码片段

```cpp
menuItem* settingChildren[] = {
    menuItem::createChangeableItem("Kp", kp, 0.0f, 10.0f, 0.1f, onKpChange),
    menuItem::createToggle("Motor On", &motor_state, onMotorToggle),
};

menuItem* main_menuChildren[] = {
    menuItem::createNormalItem("Settings", settingChildren, 2),
};

menuItem main_menu("Main Menu", main_menuChildren, 1, menuItemType::NORMAL);
Navigator navigator(&main_menu);
```

---

## 📦 扩展说明

* 可通过 `menu_c_wrapper.h/.cpp` 提供的函数封装，支持 **C 项目调用**。
* 可拓展 OLED 模拟器的字符宽度和行数。
* 支持动态添加菜单项（可在未来实现）。

---

## 👨‍💻 作者

**Taseny**
欢迎反馈问题与建议

---
